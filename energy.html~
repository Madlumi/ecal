
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <title>Energy</title>
  <link rel="stylesheet" href="style.css">

  <!-- 1) Load strings first -->
  <script src="strings.js"></script>
  <!-- 2) Load your compiled energy logic (energy.js) -->
  <script src="energy.js"></script>
  <!-- 3) Load glue.js to wire everything up -->
  <script src="glue.js"></script>
</head>
<body>
  <div class="container">

    <!-- Language Selector (ðŸ‡¸ðŸ‡ª / ðŸ‡¬ðŸ‡§ / ðŸ‡«ðŸ‡®) -->
    <div id="langSelector">
      <button class="lang-button" data-lang="sv" aria-label="Svenska">ðŸ‡¸ðŸ‡ª</button>
      <button class="lang-button" data-lang="en" aria-label="English">ðŸ‡¬ðŸ‡§</button>
      <button class="lang-button" data-lang="fi" aria-label="Suomi">ðŸ‡«ðŸ‡®</button>
    </div>

    <!-- Page Title (centered) -->
    <h1 id="appTitle"></h1>

    <!-- Disclaimer (centered under title; hidden if empty) -->
    <div id="disclaimerBox"></div>

    <form id="houseForm">
      <!-- Geography selector -->
      <label for="geography" id="lbl_geography">
        <span id="geographyLabel"></span>
        <span class="info-icon" id="geoInfo"></span>
      </label>
      <select id="geography" name="geography"></select>
      <div id="geoHelp" class="help-box"></div>
      <br />

      <!-- Housetype selector -->
      <label for="housetype" id="lbl_housetype">
        <span id="housetypeLabel"></span>
        <span class="info-icon" id="typeInfo"></span>
      </label>
      <select id="housetype" name="housetype">
        <option value="SMALL">smÃ¥hus</option>
        <option value="MULTI">flerbostadshus</option>
        <option value="LOCAL">lokal</option>
      </select>
      <div id="typeHelp" class="help-box"></div>
      <br />

      <!-- Footnote Box (only for flerbostadshus) -->
      <div id="footnoteBox"
           style="display: none; border: 0.06rem solid #aaa; padding: 0.5rem; margin-top: 0.5rem; background: #f9f9f9;">
        <p id="lbl_footnotes_heading"
           style="margin: 0 0 0.25rem 0; font-size: 0.9rem; font-weight: bold;"></p>

        <!-- Footnote 4 -->
        <label style="display: inline-block; font-size: 0.85rem; margin-right: 1rem;" id="lbl_foot4">
          <input type="checkbox" id="foot4" name="foot4">
          <span id="foot4Label"></span>
          <span class="info-icon" id="foot4Info"></span>
        </label>
        <div id="foot4Help" class="help-box"></div>

        <!-- Footnote 5 -->
        <label style="display: inline-block; font-size: 0.85rem; margin-right: 1rem;" id="lbl_foot5">
          <input type="checkbox" id="foot5" name="foot5">
          <span id="foot5Label"></span>
          <span class="info-icon" id="foot5Info"></span>
        </label>
        <div id="foot5Help" class="help-box"></div>

        <!-- Flow (q) on its own line -->
        <div style="margin-top: 0.5rem;">
          <label id="lbl_flow" style="display: inline-block; font-size: 0.85rem;">
            <span id="flowLabel"></span>
            <span class="info-icon" id="flowInfo"></span>
          </label>
          <input type="number" id="flow" name="flow" step="0.01">
        </div>
      </div>
      <br />

      <!-- Atemp with tooltip (inline so â€œ?â€ is on same line) -->
      <label for="atemp" id="lbl_atemp" style="display: inline-block;">
        <span id="atempLabel"></span>
        <span class="info-icon" id="atempInfo"></span>
      </label>
      <input type="number" id="atemp" name="atemp" min="0">
      <div id="atempHelp" class="help-box"></div>
      <br /><br />

      <!-- â€œEnergyfaktorer (kW/Ã¥r):â€ label -->
      <label id="energyTableLabel"></label><br />

      <!-- Energyâ€use table (populated dynamically) -->
      <table id="energyTable"></table>
      <!-- This is where we will inject rowâ€help text for the â€œ?â€ clicks -->
      <div id="energyRowHelpBox" class="help-box"></div>
      <br />

      <!-- PermalÃ¤nk + Copy button (rightâ€justified) -->
      <div style="display: flex; justify-content: space-between; align-items: flex-start;">
        <!-- Make this DIV flex:1 so textarea can expand fully -->
        <div style="flex: 1; display: flex; flex-direction: column; margin-right: 0.5rem;">
          <label for="permalink" id="lbl_permalink" style="display: inline-block;">
            <span id="permalinkLabel"></span>
            <span class="info-icon" id="permalinkInfo"></span>
          </label>
          <div id="permalinkHelp" class="help-box"></div>
          <textarea id="permalink" rows="3" readonly></textarea>
        </div>
        <div>
          <button type="button" class="copy-btn" id="copyBtn"></button>
        </div>
      </div>
      <br />

      <!-- Clear Form button -->
      <button type="button" class="clear-btn" id="clearBtn"></button>
    </form>

    <div id="results">
      <!-- EPpet display (inline so â€œ?â€ stays on same line) -->
      <h2 style="display: inline-block;" id="printedEP"></h2>
      <span class="info-icon" id="epInfo"></span>
      <div id="epHelp" class="help-box"></div>

      <!-- Limits table -->
      <table id="limitsTable"></table>

      <!-- Print button at bottom -->
      <div style="text-align: center; margin-top: 1rem;">
        <button id="printBtn" style="padding: 0.4rem 0.8rem; font-size: 0.9rem; cursor: pointer;">
          Skriv ut / Print
        </button>
      </div>
    </div>
  </div>
</body>
</html>
