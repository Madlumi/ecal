
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <title>Energy</title>

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Energy Demo</h1>

    <form id="houseForm">
      <!-- Geography selector -->
      <label for="geography">
        Geografi:
        <span class="info-icon" id="geoInfo" title="Klicka för mer info">?</span>
      </label>
      <select id="geography" name="geography"></select>
      <div id="geoHelp" class="help-box">
        Välj den region som gäller för klimatzon och schablonvärden.<br>
        Åland används för exempelberäkning med F<sub>geo</sub> = 1.1.
      </div>
      <br />

      <!-- Housetype selector -->
      <label for="housetype">
        Hustyp:
        <span class="info-icon" id="typeInfo" title="Klicka för mer info">?</span>
      </label>
      <select id="housetype" name="housetype">
        <option value="SMALL">småhus</option>
        <option value="MULTI">flerbostadshus</option>
        <option value="LOCAL">lokal</option>
      </select>
      <div id="typeHelp" class="help-box">
        Välj “småhus” för enbostadshus upp till 130&nbsp;m².<br>
        Välj “flerbostadshus” för lägenheter och flerfamiljshus.<br>
        Välj “lokal” för kommersiella lokaler.
      </div>
      <br />

      <!-- Footnote Box (flerbostadshus only) -->
      <div id="footnoteBox" style="display: none; border: 0.06rem solid #aaa; padding: 0.5rem; margin-top: 0.5rem; background: #f9f9f9;">
        <p style="margin: 0 0 0.25rem 0; font-size: 0.9rem; font-weight: bold;">
          Extra ventilationsfotnoter (endast flerbostadshus):
        </p>
        <label style="display: block; font-size: 0.85rem;">
          <input type="checkbox" id="foot4" name="foot4">
          Fotnot 4
          <span class="info-icon" id="foot4Info" title="Klicka för mer info">?</span>
        </label>
        <div id="foot4Help" class="help-box">
          Se fotnot 4 i tabell 9:2a – endast om A<sub>temp</sub> ≥ 50&nbsp;m² och q<sub>medel</sub> &gt; 0,35.
        </div>

        <label style="display: block; font-size: 0.85rem; margin-top: 0.25rem;">
          <input type="checkbox" id="foot5" name="foot5">
          Fotnot 5
          <span class="info-icon" id="foot5Info" title="Klicka för mer info">?</span>
        </label>
        <div id="foot5Help" class="help-box">
          Se fotnot 5 i tabell 9:2a – för högre krav på särskilda utrymmen.
        </div>

        <label style="display: block; font-size: 0.85rem; margin-top: 0.25rem;">
          Flöde (q):
          <input type="number" id="flow" name="flow" step="0.01">
          <span class="info-icon" title="Uteluftsflöde i liter per sekund och kvadratmeter">?</span>
        </label>
      </div>
      <br />

      <!-- Atemp with tooltip -->
      <label for="atemp">
        Atemp (m²):
        <span title="Uppvärmd area i kvadratmeter" style="cursor: help; color: #444; font-size: 0.9rem;">❓</span>
      </label>
      <input type="number" id="atemp" name="atemp" min="0">
      <br /><br />

      <!-- Energy‐use table will be built dynamically -->
      <table id="energyTable"></table>
      <br />

      <!-- Permalink box -->
      <label for="permalink">Permalänk:</label><br />
      <textarea id="permalink" rows="3" readonly></textarea>
      <br />
      <button type="button" class="clear-btn" id="clearBtn">Rensa formulär</button>
    </form>

    <div id="results">
      <!-- EPₚₑₜ as bold heading with dynamic warning icon -->
      <h2 id="printedEP" style="font-size: 1.5rem; font-weight: bold;"></h2>
      <table id="limitsTable"></table>
    </div>
  </div>

  <!-- Include compiled logic (energy.js) -->
  <script src="energy.js"></script>
  <script src="glue.js"></script>
</body>
</html>
